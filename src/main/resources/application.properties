# ---------------------------
# Identificação da aplicação
# ---------------------------
spring.application.name=ollama-chat
server.port=8080

# ---------------------------
# Configuração do MongoDB
# ---------------------------
# Permite que o Docker sobrescreva via variável SPRING_DATA_MONGODB_URI
spring.data.mongodb.uri=${SPRING_DATA_MONGODB_URI:mongodb://localhost:27017/ollama_chat_db}
spring.data.mongodb.database=ollama_chat_db

# ---------------------------
# Configuração do Ollama API
# ---------------------------
# Dentro do Docker, o valor padrão será substituído por OLLAMA_BASE_URL=http://ollama:11434
ollama.base-url=${OLLAMA_BASE_URL:http://localhost:11434}
ollama.api.url=${OLLAMA_API_URL:${ollama.base-url}/api/generate}
ollama.model=${OLLAMA_MODEL:gemma3:1b}

# ---------------------------
# Logging e monitoramento
# ---------------------------
logging.level.root=INFO
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.http.converter.json=TRACE

management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.server.port=8080

spring.codec.max-in-memory-size=10MB
spring.main.web-application-type=reactive
spring.webflux.timeout=0

server.tomcat.connection-timeout=0
server.netty.connection-timeout=0
server.netty.max-initial-line-length=10000000
